<Window x:Class="Paint.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Paint"
        mc:Ignorable="d"
        Title="Paint" Height="600" Width="800"
        WindowStartupLocation="CenterScreen" Background="#E7EAF9">
        
        <Grid>
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/> 
                        <RowDefinition Height="*"/>    
                        <RowDefinition Height="Auto"/> 
                </Grid.RowDefinitions>
                <!-- Панель инструментов-->
                <StackPanel Grid.Row="0" Orientation="Horizontal" Background="White"  Height="100">
                        <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="3" Margin="2" Padding="8">
                                <Grid>
                                        <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/> 
                                                <RowDefinition Height="Auto"/> 
                                        </Grid.RowDefinitions>
                                        <Button Grid.Row="0"  Cursor="Hand" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Width="40"
                                                Height="40"
                                                Background="Transparent"
                                                >
                                             <Image Source="/Images/icons8-выбор-32.png" Width="32" Height="32"/>  
                                        </Button>
                                        <TextBlock Grid.Row="1" Text="Выделение" VerticalAlignment="Bottom"
                                                   HorizontalAlignment="Center" 
                                                   FontWeight="Bold"/>
                                </Grid>
                        </Border>
                        

                        <Border Background="Gray" Width="0.5" Margin="5,10" VerticalAlignment="Center" Height="80"/>
                        <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="3" Margin="2">
                                <Grid>
                                        <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/> 
                                                <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="Auto"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <!-- первая строка инструментов -->
                                        <Button Grid.Column="0" Grid.Row="0" Width="24" Height="24"
                                                HorizontalAlignment="Left" 
                                                VerticalAlignment="Top" Margin="2" Background="Transparent"
                                                Click="PencilButton_Click">
                                                <Image Source="Images/icons8-карандаш-24.png"></Image>
                                        </Button>
                                        <Button Grid.Column="1" Grid.Row="0" Width="24" Height="24"
                                                HorizontalAlignment="Center" 
                                                VerticalAlignment="Top" Margin="2" Background="Transparent" Click="ButtonFilling_click">
                                                <Image Source="Images/icons8-ведро-краски-24.png"></Image>
                                        </Button>
                                        <Button Grid.Column="2" Grid.Row="0" Width="24" Height="24"
                                                HorizontalAlignment="Right" 
                                                VerticalAlignment="Top" Margin="2" Background="Transparent">
                                                <Image Source="Images/icons8-текст-24.png"></Image>
                                        </Button>
        
                                        <!-- Вторая строка инструментов  -->
                                        <Button Grid.Column="0" Grid.Row="1" Width="24" Height="24"
                                                HorizontalAlignment="Left" 
                                                VerticalAlignment="Top" Margin="2" Background="Transparent">
                                                <Image Source="Images/icons8-ластик-24.png"></Image>
                                        </Button>
                                        <Button Grid.Column="1" Grid.Row="1" Width="24" Height="24"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Top" Margin="2 " Background="Transparent">
                                                <Image Source="Images/icons8-пипетка-24.png"></Image>
                                        </Button>
                                        <Button Grid.Column="2" Grid.Row="1" Width="24" Height="24"
                                                HorizontalAlignment="Right" 
                                                VerticalAlignment="Top" Margin="2" Background="Transparent">
                                                <Image Source="Images/icons8-лупа-24.png"></Image>
                                        </Button>
        
                                        <TextBlock Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="2" Text="Инструменты"
                                                   VerticalAlignment="Bottom"
                                                   HorizontalAlignment="Center" FontWeight="Bold" Margin="0, 14,0,0"/>
                                </Grid>
                        </Border>
                                
                       
                        
                        <Border Background="Gray" Width="0.5" Margin="5,10" VerticalAlignment="Center" Height="80"/>
                        <!-- Блок Кисти -->
                        <Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="3" Margin="2" Padding="8">
                                <Grid>
                                        <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/> 
                                                <RowDefinition Height="Auto"/> 
                                        </Grid.RowDefinitions>
                                        <Button Grid.Row="0"  Cursor="Hand" 
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"
                                                Width="40"
                                                Height="40"
                                                Background="Transparent"
                                                Margin="0,0,0,16"
                                                Click="BrushButton_Click"
                                                ToolTip="Кисть"
                                        >
                                                <Image Source="/Images/icons8-кисть-40.png" Width="32" Height="32"/>  
                                        </Button>
                                <TextBlock Text="Кисти" VerticalAlignment="Bottom" 
                                           HorizontalAlignment="Center" 
                                           FontWeight="Bold" Margin="0,14,0,0"/>
                                </Grid>
                        </Border>
    
                        <!-- разделитель -->
                        <Border Background="Gray" Width="0.5" Margin="5,10" VerticalAlignment="Center" Height="80"/>

                        <!-- Блок Фигуры -->
                        <Border BorderBrush="DarkGray" BorderThickness="1"
                                CornerRadius="3" Margin="2" Padding="8" Width="140">
                                <Grid>
                                        <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/> 
                                                <RowDefinition Height="Auto"/> 
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/> 
                                        </Grid.ColumnDefinitions>
    
                                        <!-- Первый ряд фигур -->
                                        <Button Grid.Column="0" Grid.Row="0"
                                                Width="25" Height="25"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Top" Margin="2"
                                                Background="Transparent"
                                                Click="RectangleButton_Click">
                                                <Image Source="Images/icons8-прямоугольник-25.png"></Image>
                                        </Button>
                                        <Button Grid.Column="1" Grid.Row="0"
                                                Width="25" Height="25"
                                                HorizontalAlignment="Left" VerticalAlignment="Top" Margin="2" Background="Transparent" Click="EllipseButton_Click">
                                                <Image Source="Images/icons8-эллипс-25.png"></Image>
                                        </Button>
    
                                        <!-- Второй ряд фигур -->
                                        <Button Grid.Column="0" Grid.Row="1"
                                                Width="25" Height="25"
                                                HorizontalAlignment="Right" VerticalAlignment="Top" Margin="2" Background="Transparent" Click="LineButton_Click">
                                                <Image Source="Images/icons8-линия-25.png"></Image>
                                        </Button>
                                        <Button Grid.Column="1" Grid.Row="1"
                                                Width="25" Height="25"
                                                HorizontalAlignment="Left" VerticalAlignment="Top" Margin="2" Background="Transparent" Click="PolygonButton_Click">
                                                <Image Source="Images/icons8-многоугольник-25.png"></Image>
                                        </Button>
    
                                        <!-- Надпись -->
                                        <TextBlock Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" 
                                                   Text="Фигуры" 
                                                   VerticalAlignment="Center"
                                                   HorizontalAlignment="Center"
                                                   FontWeight="Bold" Margin="0,5"/>
                                </Grid>
                        </Border>
                        
                        <Border Background="Gray" Width="0.5" Margin="5,10" VerticalAlignment="Center" Height="80"/>
                        
<Border BorderBrush="DarkGray" BorderThickness="1" CornerRadius="3" Margin="2" Padding="10">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <UniformGrid Grid.Row="0" Rows="2" Columns="8">
            <!-- Стиль цветов-кнопок -->
            <UniformGrid.Resources>
                <Style TargetType="Button">
                    <Setter Property="Width" Value="20"/>
                    <Setter Property="Height" Value="20"/>
                    <Setter Property="Padding" Value="0"/>
                    <Setter Property="Margin" Value="1"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Ellipse x:Name="ellipse" 
                                         Fill="{TemplateBinding Background}" 
                                         Stroke="Transparent" 
                                         StrokeThickness="1"/>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter TargetName="ellipse" Property="Stroke" Value="Black"/>
                                        <Setter TargetName="ellipse" Property="StrokeThickness" Value="2"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </UniformGrid.Resources>
            
            <!-- Первый ряд цветов -->
            <Button Background="Black" ToolTip="Черный" Click="ColorButton_Click"/>
            <Button Background="Gray" ToolTip="Серый" Click="ColorButton_Click"/>
            <Button Background="Brown" ToolTip="Коричневый" Click="ColorButton_Click"/>
            <Button Background="Red" ToolTip="Красный" Click="ColorButton_Click"/>
            <Button Background="Orange" ToolTip="Оранжевый" Click="ColorButton_Click"/>
            <Button Background="Yellow" ToolTip="Желтый" Click="ColorButton_Click"/>
            <Button Background="Green" ToolTip="Зеленый" Click="ColorButton_Click"/>
            <Button Background="Blue" ToolTip="Синий" Click="ColorButton_Click"/>
            <!-- Второй ряд цветов -->
            <Button Background="Purple" ToolTip="Фиолетовый" Click="ColorButton_Click"/>
            <Button Background="Pink" ToolTip="Розовый" Click="ColorButton_Click"/>
            <Button Background="White" ToolTip="Белый" Click="ColorButton_Click"/>
            <Button Background="LightBlue" ToolTip="Голубой" Click="ColorButton_Click"/>
            <Button Background="LightGreen" ToolTip="Светло-зеленый" Click="ColorButton_Click"/>
            <Button Background="Cyan" ToolTip="Бирюзовый" Click="ColorButton_Click"/>
            <Button Background="Magenta" ToolTip="Пурпурный" Click="ColorButton_Click"/>
            <Button Background="DarkBlue" ToolTip="Темно-синий" Click="ColorButton_Click"/>
        </UniformGrid>
        
        <TextBlock Grid.Row="1" Text="Цвета" 
                   HorizontalAlignment="Center" 
                   FontWeight="Bold" 
                   Margin="0,8,0,0"/>
    </Grid>
</Border>
                </StackPanel>
                <Grid Grid.Row="1">
                        <Canvas x:Name="mainCanvas" Background="White" Margin="50"
                                MouseDown="Canvas_MouseDown"
                                MouseMove="Canvas_MouseMove" 
                                MouseUp="Canvas_MouseUp"/>
                </Grid>
        </Grid>
</Window>